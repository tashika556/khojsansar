{
    "openapi": "3.0.0",
    "info": {
        "title": "Khojsansar API",
        "description": "Khojsansar App API Documentation",
        "contact": {
            "email": "trishachhetri27@gmail.com"
        },
        "license": {
            "name": "Apache 2.4.58",
            "url": "https://www.apache.org/licenses/LICENSE-2.4.58.html"
        },
        "version": "3.0"
    },
    "paths": {
        "/": {
            "get": {
                "summary": "Display Home Page",
                "description": "Home page",
                "operationId": "52d00847236cc2dde3a06390a1ede299",
                "responses": {
                    "default": {
                        "description": "Welcome page"
                    }
                }
            }
        },
        "/api/customer/customersignup": {
            "get": {
                "tags": [
                    "Customer"
                ],
                "summary": "Get Signup Form Data",
                "description": "Returns provinces, districts, authorizes, and categories for signup.",
                "operationId": "495fa11baf79ff5cd4400d83a37983ce",
                "responses": {
                    "200": {
                        "description": "Returns signup data",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "provinces": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            }
                                        },
                                        "districts": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            }
                                        },
                                        "authorizes": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            }
                                        },
                                        "categories": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            }
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/terms": {
            "get": {
                "tags": [
                    "Customer"
                ],
                "summary": "Get Terms and Conditions",
                "description": "Returns the terms and conditions text.",
                "operationId": "4950580df8bcf40de13b002a2b273cb2",
                "responses": {
                    "200": {
                        "description": "Returns terms and conditions",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "terms": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    }
                }
            }
        },
        "/api/login-form": {
            "post": {
                "tags": [
                    "Customer"
                ],
                "summary": "Customer Login",
                "description": "Logs in a customer with email, password, and OTP.",
                "operationId": "6f25f1a105c043b62959ff00e015e6e4",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password"
                                    },
                                    "otp": {
                                        "type": "string"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "Login successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "token": {
                                            "type": "string"
                                        },
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "400": {
                        "description": "Invalid OTP or Password"
                    },
                    "404": {
                        "description": "Please register first"
                    }
                }
            }
        },
        "/api/customer/reg-form": {
            "post": {
                "tags": [
                    "Customer"
                ],
                "summary": "Customer Signup",
                "description": "Registers a new customer with the provided information.",
                "operationId": "052abd6fb5799319a4146cec40412511",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "first_name": {
                                        "type": "string"
                                    },
                                    "last_name": {
                                        "type": "string"
                                    },
                                    "business": {
                                        "type": "string"
                                    },
                                    "category": {
                                        "type": "string"
                                    },
                                    "phone": {
                                        "type": "string"
                                    },
                                    "user_name": {
                                        "type": "string"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password"
                                    },
                                    "cpassword": {
                                        "type": "string",
                                        "format": "password"
                                    },
                                    "agree": {
                                        "type": "boolean"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Registration successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Registration failed"
                    }
                }
            }
        },
        "/api/customerhome": {
            "get": {
                "tags": [
                    "Customer"
                ],
                "summary": "Get Customer Home",
                "description": "Returns the customer information if authenticated.",
                "operationId": "3600dcbbf09e519becc92d6063f4bfc3",
                "responses": {
                    "200": {
                        "description": "Returns customer information",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "customer": {
                                            "type": "object"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "401": {
                        "description": "Unauthorized"
                    }
                },
                "security": [
                    {
                        "bearerAuth": []
                    }
                ]
            }
        },
        "/api/districts": {
            "get": {
                "tags": [
                    "Districts"
                ],
                "summary": "Get list of districts",
                "operationId": "cbc67994cfdcf3c21a349c105b9e5d24",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/District"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Not Found"
                    }
                }
            }
        },
        "/api/getDistrict": {
            "post": {
                "tags": [
                    "Districts"
                ],
                "summary": "Get list of districts by province ID",
                "operationId": "8f055416a65e472fd8e7c23548c528c2",
                "parameters": [
                    {
                        "name": "province_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/District"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Not Found"
                    }
                }
            }
        },
        "/api/municipalities": {
            "get": {
                "tags": [
                    "Municipalities"
                ],
                "summary": "Get list of municipalities",
                "operationId": "9f6cf9dcf75676fb27cc3bf2f24a6eca",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Municipality"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Not Found"
                    }
                }
            }
        },
        "/api/getMunicipality": {
            "post": {
                "tags": [
                    "Municipalities"
                ],
                "summary": "Get list of municipalities by district ID",
                "operationId": "73eaebed20676c0e51e89ec3986a1bf9",
                "parameters": [
                    {
                        "name": "district_id",
                        "in": "query",
                        "required": true,
                        "schema": {
                            "type": "integer"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Municipality"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Not Found"
                    }
                }
            }
        },
        "/api/provinces": {
            "get": {
                "tags": [
                    "Provinces"
                ],
                "summary": "Get list of provinces",
                "operationId": "afe5388febed3b221fac15112d75d6a7",
                "responses": {
                    "200": {
                        "description": "Successful response",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "array",
                                    "items": {
                                        "$ref": "#/components/schemas/Province"
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Not Found"
                    }
                }
            }
        },
        "/customerlogin": {
            "get": {
                "summary": "Display Customer Login Page",
                "operationId": "2c323b67184703860e1235bce07a9551",
                "responses": {
                    "200": {
                        "description": "Displays the login page for customers"
                    }
                }
            }
        },
        "/customersignup": {
            "get": {
                "summary": "Display Customer Signup Page",
                "operationId": "ec2fa397782934a0fbcadbb13d11e1ed",
                "responses": {
                    "200": {
                        "description": "Displays the signup page for customers"
                    }
                }
            }
        },
        "/reg-form": {
            "post": {
                "tags": [
                    "Customer"
                ],
                "summary": "Customer Signup",
                "description": "Registers a new customer with the provided information.",
                "operationId": "7b9288874b145b57700cc22014cd5225",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "properties": {
                                    "first_name": {
                                        "type": "string"
                                    },
                                    "last_name": {
                                        "type": "string"
                                    },
                                    "business": {
                                        "type": "string"
                                    },
                                    "category": {
                                        "type": "string"
                                    },
                                    "phone": {
                                        "type": "string"
                                    },
                                    "user_name": {
                                        "type": "string"
                                    },
                                    "email": {
                                        "type": "string",
                                        "format": "email"
                                    },
                                    "password": {
                                        "type": "string",
                                        "format": "password"
                                    },
                                    "cpassword": {
                                        "type": "string",
                                        "format": "password"
                                    },
                                    "agree": {
                                        "type": "boolean"
                                    }
                                },
                                "type": "object"
                            }
                        }
                    }
                },
                "responses": {
                    "201": {
                        "description": "Registration successful",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "properties": {
                                        "message": {
                                            "type": "string"
                                        }
                                    },
                                    "type": "object"
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Registration failed"
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "District": {
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "district_name": {
                        "type": "string",
                        "example": "Bhojpur"
                    },
                    "province_id": {
                        "type": "integer",
                        "example": 1
                    }
                },
                "type": "object",
                "example": {
                    "id": 1,
                    "district_name": "Koshi District",
                    "province_id": 1
                }
            },
            "Municipality": {
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "municipality_name": {
                        "type": "string",
                        "example": "Shadananda Municipality"
                    },
                    "district_id": {
                        "type": "integer",
                        "example": 1
                    }
                },
                "type": "object",
                "example": {
                    "id": 1,
                    "municipality_name": "Shadananda Municipality",
                    "district_id": 1
                }
            },
            "Province": {
                "properties": {
                    "id": {
                        "type": "integer",
                        "example": 1
                    },
                    "province_name": {
                        "type": "string",
                        "example": "Koshi Pradesh"
                    }
                },
                "type": "object",
                "example": {
                    "id": 1,
                    "province_name": "Koshi Pradesh"
                }
            }
        }
    },
    "tags": [
        {
            "name": "Customer",
            "description": "Customer"
        },
        {
            "name": "Districts",
            "description": "Districts"
        },
        {
            "name": "Municipalities",
            "description": "Municipalities"
        },
        {
            "name": "Provinces",
            "description": "Provinces"
        }
    ]
}